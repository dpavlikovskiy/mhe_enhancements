!function(a){var b={delimiter:",",checkboxRangeKeyBinding:"shiftKey",useArray:!1};a.Field={version:"0.9.1",setDefaults:function(c){a.extend(b,c)},setProperty:function(a,c){b[a]=c},getProperty:function(a){return b[a]}},a.fn.fieldArray=function(a){var e=i(a);return"undefined"==e?c(this):("string"!=e&&"number"!=e||(a=a.toString().split(b.delimiter),e="array"),"array"==e?d(this,a):this)},a.fn.getValue=function(){return c(this).join(b.delimiter)};var c=function(a){var b=[];return a.each(function(a){var c=f(this);switch(c){case"checkbox":case"radio":this.checked&&b.push(this.value);break;case"select":if("select-one"==this.type)b.push(-1==this.selectedIndex?"":g(this[this.selectedIndex]));else for(var d=0;d<this.length;d++)this[d].selected&&b.push(g(this[d]));break;case"text":b.push(this.value)}}),b};a.fn.setValue=function(a){return d(this,a?a.toString().split(b.delimiter):[""])};var d=function(a,c){return a.each(function(a){var d,e=f(this);switch(e){case"checkbox":case"radio":h(c,this.value)?this.checked=!0:this.checked=!1;break;case"select":for(var i="select-one"==this.type,j=!0,k=0;k<this.length;k++)if(d=g(this[k]),bSelectItem=h(c,d),bSelectItem){if(this[k].selected=!0,i){j=!1;break}}else i||(this[k].selected=!1);i&&j&&this[0]&&(this[0].selected=!0);break;case"text":this.value=c.join(b.delimiter)}}),a};a.fn.formHash=function(c){var d=0==arguments.length,e={};return this.filter("form").each(function(){for(var f,g,h,i=this.elements,j={},k=0,l=i.length;l>k;k++)if(f=i[k],g=f.name,g&&!j[g]){var h=a(f.tagName.toLowerCase()+"[@name='"+g+"']",this);d?e[g]=h[b.useArray?"fieldArray":"getValue"]():"undefined"!=typeof c[g]&&h[b.useArray?"fieldArray":"setValue"](c[g]),j[g]=!0}}),d?e:this},a.fn.autoAdvance=function(b){return this.find(":text,:password,textarea").bind("keyup",function(c){var d=a(this),e=parseInt(d.attr("maxlength"),10);if(isNaN(e)||"|9|16|37|38|39|40|".indexOf("|"+c.keyCode+"|")>-1)return!0;if(d.getValue().length>=d.attr("maxlength")){var f=d.moveNext().select();a.isFunction(b)&&b.apply(d,[f])}})},a.fn.moveNext=function(){return this.moveIndex("next")},a.fn.movePrev=function(){return this.moveIndex("prev")},a.fn.moveIndex=function(b){var c=e(this);return"next"==b?b=c[0]+1:"prev"==b&&(b=c[0]-1),0>b?b=c[1].length-1:b>=c[1].length&&(b=0),a(c[1][b]).trigger("focus")},a.fn.getTabIndex=function(){return e(this)[0]};var e=function(b){var c=b.filter("input select textarea").get(0),d=[],e=[];if(!c)return[-1,[]];a.each(c.form.elements,function(a,b){"FIELDSET"==b.tagName||b.disabled||(b.tabIndex>0?d.push(b):e.push(b))}),d.sort(function(a,b){return a.tabIndex-b.tabIndex}),d=a.merge(d,e);for(var f=0;f<d.length;f++)if(d[f]==c)return[f,d];return[-1,d]};a.fn.limitSelection=function(b,e){var f=jQuery.extend(b&&b.constructor==Object?b:{limit:b,onsuccess:function(a){return!0},onfailure:function(a){return alert("You can only select a maximum a of "+a+" items."),!1}},e),g=this,h=function(b){return"select-multiple"==b.type?a("option:selected",g).length:"checkbox"==b.type?g.filter(":checked").length:0},i=function(){return d(g,c(g).slice(0,f.limit)),f.onfailure.apply(g,[f.limit])};return this.bind(g[0]&&"select-multiple"==g[0].type?"change":"click",function(){return h(this)>f.limit?"select-multiple"==this.type?i():f.onfailure.apply(g,[f.limit]):(f.onsuccess.apply(g,[f.limit]),!0)})},a.fn.createCheckboxRange=function(c){var d=0,e=this,f=a.isFunction(c);return f&&this.each(function(){c.apply(this,[a(this).is(":checked")])}),this.each(function(){if("checkbox"!=this.type)return!1;var g=function(a){d=e.index(a.target)},h=function(g){var h=this.checked,i=e.index(g.target),j=Math.min(d,i),k=Math.max(d,i);if(f&&a(this).each(function(){c.apply(this,[h])}),g[b.checkboxRangeKeyBinding]){for(var l=j;k>l;l++){var m=e.eq(l).attr("checked",h?"checked":"");f&&c.apply(m[0],[h])}return!0}};return a(this).unbind("blur",g).unbind("click",h).bind("blur",g).bind("click",h),!0})};var f=function(a){var b=a.type;switch(b){case"select":case"select-one":case"select-multiple":b="select";break;case"text":case"hidden":case"textarea":case"password":case"button":case"submit":case"submit":b="text";break;case"checkbox":case"radio":b=b}return b},g=function(a){return jQuery.browser.msie&&!a.attributes.value.specified?a.text:a.value},h=function(b,c){return a.inArray(c,b)>-1},i=function(a){var b=(typeof a).toLowerCase();return"object"==b&&(a instanceof Array?b="array":a instanceof Date&&(b="date")),b}}(jQuery);