Number.prototype.padLeft=function(a,b){var c=String(a||10).length-String(this).length+1;return c>0?new Array(c).join(b||"0")+this:this}(function(a){function b(b,c){this.$el=b,this.$parent=b.closest(".js-calendar"),this.options=a.extend({},this.defaults,c),this.init()}b.prototype={defaults:{dateDisplayClass:"#getDate",dateSelectClass:".datepicker-select",initalDate:!1},init:function(){this.$dateDisplay="#getDate",this.$dateSelect=this.$parent.find(this.options.dateSelectClass),this.disabledDays=this.$el.data("days-off").split(","),this.rangeStart=this.$el.data("range-start"),this.rangeEnd=this.$el.data("range-end"),this.cutoffHours=this.$el.data("cutoff-hours"),this.cutoffMins=this.$el.data("cutoff-mins"),this.dateToday=new Date,this.startDate=new Date,this.endDate=new Date,this.cutoffPoint=new Date(this.dateToday.getFullYear(),this.dateToday.getMonth(),this.dateToday.getDate(),this.cutoffHours,this.cutoffMins,0),this.workingDays=this.rangeEnd-this.rangeStart,this.totalDays=0,this.endDate.setDate(this.endDate.getDate()+this.rangeEnd),this.hiddenField=this.options.hiddenField||a([]),this.setStartDate(this.options.initalDate?this.options.initalDate:this.dateToday,this.cutoffPoint),this.setEndDate(this.workingDays),this.initPicker(),this.addListeners()},setStartDate:function(a,b){var c=new Date,d=this.rangeStart;this.startDate.setDate(c.getDate()+d)},setEndDate:function(a){this.endDate},nationalDays:function(b){var c=b.getMonth(),d=b.getDate(),e=b.getFullYear();for(i=0;i<this.disabledDays.length;i++)if(-1!=a.inArray(c+1+"-"+d+"-"+e,this.disabledDays)||new Date>b)return[!1];return[!0]},setDisplayedValue:function(a){a&&this.$dateSelect.addClass("date-selected").text(this.$el.attr("data-change-date"))},initPicker:function(){function b(b){var d=a.datepicker.noWeekends(b);return d[0]?c.nationalDays(b):d}var c=this,d=function(){return c.hiddenField.length?c.hiddenField.val():null}();this.$el.datepicker({beforeShow:function(b,c){a("#ui-datepicker-div").attr("data-title",a(b).attr("data-title")).attr("data-copy",a(b).attr("data-copy")).addClass("delivery-date")},beforeShowDay:b,showAnim:"fade",firstDay:1,altField:this.$dateDisplay,showOtherMonths:!0,selectOtherMonths:!0,minDate:this.startDate,maxDate:this.endDate,dateFormat:"dd MM yy",defaultDate:""!==d?d:null,onSelect:function(a,b){c.setDisplayedValue(a),c.hiddenField.val(a)}})},addListeners:function(){var b=this;this.$dateSelect.on("click",function(){if(a(this).closest(".form-row").hasClass("active")&&(b.$el.datepicker("show"),a(".ie8").length)){var c=8+(document.documentElement&&document.documentElement.scrollTop)||document.body.scrollTop;a("#ui-datepicker-div").css("margin-top",String(c)+"px")}})}},a.fn.datePicker=function(c){return this.each(function(){a(this).data().datePicker=new b(a(this),c)})}}(jQuery));