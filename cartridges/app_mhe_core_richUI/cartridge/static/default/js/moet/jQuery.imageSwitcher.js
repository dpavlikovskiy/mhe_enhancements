!function(a){function b(b,c){this.$ele=a(b);var c=a(b).attr("data-image-switch-config");c=JSON.parse(c),this.params=a.extend({},{thumbContainerSelector:".thumb",thumbnailImageSelector:".productthumbnail",mainImageSelector:"img-main",activeClass:"active",callback:!1},c),this.thumbContainerCollection=this.$ele.find(this.params.thumbContainerSelector),this.thumbImageCollection=this.$ele.find(this.params.thumbnailImageSelector),this.mainImage=this.$ele.find(this.params.mainImageSelector),this.mainAnchor=this.mainImage.closest("a"),this.init()}b.prototype={init:function(){var a=this;this.thumbImageCollection.on("click",function(b){b.preventDefault();var c=this,d=JSON.parse(c.getAttribute("data-lgimg"));return a.swapMainImage(d,c),!1})},swapMainImage:function(a,b){var a=a.url;a&&(this.mainImage[0].src=a,this.mainAnchor[0].href=a,this.handleActiveState(b))},handleActiveState:function(b){var c=a(b).closest(this.params.thumbContainerSelector);this.thumbContainerCollection.removeClass(this.params.activeClass),c.addClass(this.params.activeClass)}},a.fn.imageSwitcher=function(c){return a(this).each(function(){a(this).data().imageSwitcher=new b(this,c)})}}(jQuery);